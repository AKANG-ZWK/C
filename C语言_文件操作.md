## 文件操作

### 文件的打开和关闭

文件在读写之前应该先**打开文件**，在使用结束之后应该**关闭文件**。  

在编写程序的时候，在打开文件的同时，都会返回一个`FILE*`的指针变量指向该文件，也相当于建立了指针和文件的关系。  

`ANSIC` 规定使用`fopen`函数来打开文件，`fclose`来关闭文件。 

```c
FILE * fopen ( const char * filename, const char * mode );
int fclose ( FILE * stream );  
```

| 文件使用方式  | 含义                                     | 如果指定文件不存在 |
| ------------- | :--------------------------------------- | :----------------: |
| “r”（只读）   | 为了输入数据，打开一个已经存在的文本文件 |        出错        |
| “w”（只写）   | 为了输出数据，打开一个文本文件           |  建立一个新的文件  |
| “a”（追加）   | 向文本文件尾添加数据                     |        出错        |
| “rb”（只读）  | 为了输入数据，打开一个二进制文件         |        出错        |
| “wb”（只写）  | 为了输出数据，打开一个二进制文件         |  建立一个新的文件  |
| “ab”（追加）  | 向一个二进制文件尾添加数据               |        出错        |
| “r+”（读写）  | 为了读和写，打开一个文本文件             |        出错        |
| “w+”（读写）  | 为了读和写，建议一个新的文件             |  建立一个新的文件  |
| “a+”（读写）  | 打开一个文件，在文件尾进行读写           |  建立一个新的文件  |
| “rb+”（读写） | 为了读和写打开一个二进制文件             |        出错        |
| “wb+”（读写） | 为了读和写，新建一个新的二进制文件       |  建立一个新的文件  |
| “ab+”（读写） | 打开一个二进制文件，在文件尾进行读和写   |  建立一个新的文件  |

```c
// 文件操作

int main()
{
	FILE* pf = fopen("test.txt", "w");
	if (pf == NULL)
	{
		perror("fopen");
		return -1;
	}

	// 写文件
	fputc('a', pf);
	fputc('b', pf);	
	fputc('c', pf);	
	fputc('d', pf);
	fputc('e', pf);

	// 关闭文件
	fclose(pf);
	pf = NULL;

	return 0;
}
```
